library("dplyr")
library("ggplot")
library("maps")
library("tidyr")
library("maptools")
library("sp")
library("shiny")
getwd()
setwd("~/deaths-in-US-cities")
deaths <- read.csv(data/Deaths_in_122_US_cities.csv, stringsAsFactors = FALSE)
read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE)
View(deaths)
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE)
View(deaths)
population <- read.csv('data/population_info.csv', stringsAsFactors = FALSE')
population <- read.csv('data/population_info.csv', stringsAsFactors = FALSE)
View(population)
library("dplyr")
library("ggplot")
library("maps")
library("tidyr")
library("maptools")
library("sp")
library("shiny")
##########################
# DATA WRANGLING SECTION #
##########################
#Reading in data files
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE)
population <- read.csv('data/population_info.csv', stringsAsFactors = FALSE)
pneuomnia.vs.all <- deaths %>%
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE)
View(deaths)
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE, fileEncoding = "UTF-8-BOMB")
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE, fileEncoding = "UTF-8-BOM")
View(deaths)
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE, fileEncoding = "UTF-8")
View(deaths)
View(population)
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE, fileEncoding = "UTF-8-BOM")
View(deaths)
pneuomnia.vs.all <- deaths %>% filter(year > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
library("dplyr")
library("ggplot")
library("maps")
library("tidyr")
library("maptools")
library("sp")
library("shiny")
pneuomnia.vs.all <- deaths %>% filter(year > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
library("dplyr")
library("ggplot")
library("maps")
library("tidyr")
library("sp")
library("shiny")
##########################
# DATA WRANGLING SECTION #
##########################
#Reading in data files
deaths <- read.csv('data/Deaths_in_122_US_cities.csv', stringsAsFactors = FALSE, fileEncoding = "UTF-8-BOM")
population <- read.csv('data/population_info.csv', stringsAsFactors = FALSE)
pneuomnia.vs.all <- deaths %>% filter(year > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
pneuomnia.vs.all <- deaths %>% filter(year > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
pneuomnia.vs.all <- deaths %>% filter(year > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
pneuomnia.vs.all <- deaths %>% filter("year" > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
pneuomnia.vs.all <- deaths %>% filter("year" > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "year")
pneuomnia.vs.all <- deaths %>% filter("Year" > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "year")
pneuomnia.vs.all <- deaths %>% filter("Year" > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year")
View(pne)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
pneuomnia.vs.all <- deaths %>% filter("Year" > 2009) %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year" > 2009)
pneuomnia.vs.all <- deaths %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year" > 2009)
%>% filter("Year" > 2009)
pneuomnia.vs.all <- deaths %>%
select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year" > 2009)
pneuomnia.vs.all <- deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year" > 2009)
pneuomnia.vs.all <- deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths")
%>% filter("Year" > 2009)
pneuomnia.vs.all <- deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year")
%>% filter("Year" > 2009)
pneuomnia.vs.all <- deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year") %>%
filter("Year" > 2009)
pneuomnia.vs.all <- deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year") %>%
filter("Year" > 2009)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
pneuomnia.vs.all <- filter("Year" > 2009) %>%
deaths %>% select("City", "Pneumonia.and.Influenza.Deaths", "All.Deaths", "Year")
pneuomnia.vs.all <- deaths %>% select(City, Pneumonia.and.Influenza.Deaths, All.Deaths, Year) %>%
filter(Year > 2009)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
pneuomnia.vs.all <- deaths %>% select(Year, WEEK, City, Pneumonia.and.Influenza.Deaths, All.Deaths) %>%
filter(Year > 2009)
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
`colnames<-`(population, NAME <- city)
colnames(population[,9] City)
colnames(population[9] <- City)
colnames(population[9]) <- City
colnames(population[9]) <- "City"
View(population)
View(population)
population2 <- colnames(population[9]) <- "City"
View(population2)
population2 <- colnames(population[,9]) <- "City"
View(population2)
rename(population, NAME = City)
rename(population, "NAME" = "City")
colnames(population)[9] <- "City"
View(population)
View(population)
?spread
library("ggplot2")
View(population)
View(population)
colnames(population)[13:19] <- 2010:2016
View(population)
estimate.long <- gather(population,
key = Year,
value = ESTIMATE, 2010, 2011, 2012,
2013, 2014, 2015, 2016
)
estimate.long <- gather(population,
key = Year,
value = ESTIMATE, "2010", "2011", "2012",
"2013", "2014", "2015", "2016"
)
View(estimate.long)
View(estimate.long)
city.join <- inner_join(pneumonia.vs.all, estimate.long)
city.join <- inner_join(pneumonia.vs.all, estimate.long, by = "City")
View(estimate.long)
View(estimate.long)
city.join <- inner_join(pneumonia.vs.all, estimate.long, "City" = "City")
city.join <- inner_join(pneumonia.vs.all, estimate.long, "City" == "City")
city.join <- inner_join(pneumonia.vs.all, estimate.long, by("City" == "City"))
# Creating a new dataframe with the needed columns for analysis.
pneuomnia.vs.all <- deaths %>% select(Year, WEEK, City, Pneumonia.and.Influenza.Deaths, All.Deaths) %>%
filter(Year > 2009)
city.join <- inner_join(pneumonia.vs.all, estimate.long, by("City" == "City"))
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by("City" == "City"))
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = "City")
View(city.join)
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = "City", by = "Year")
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = "City")
View(city.join)
city.join <- full_join(pneuomnia.vs.all, estimate.long, by = "City")
View(city.join)
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = c("City", "Year"))
# Making a new dataframe that joins by city
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = "Year")
View(pneuomnia.vs.all)
View(pneuomnia.vs.all)
# Making a new dataframe that joins by city
city.join <- inner_join(pneuomnia.vs.all, estimate.long, by = "City")
View(city.join)
lowest.and.highest <- pneuomnia.vs.all %>% filter(all.deaths = max)
lowest.and.highest <- pneuomnia.vs.all %>% filter(all.deaths = max(all.deaths)
)
lowest.and.highest <- pneuomnia.vs.all %>% filter(all.deaths == max(all.deaths)
)
lowest.and.highest <- pneuomnia.vs.all %>% filter(All.Deaths == max(All.Deaths))
View(lowest.and.highest)
View(lowest.and.highest)
lowest.and.highest <- pneuomnia.vs.all %>% filter(max == All.Deaths))
lowest.and.highest <- range(pneuomnia.vs.all$All.Deaths)
View(lowest.and.highest)
lowest.and.highest <- range(deaths$All.Deaths)
View(lowest.and.highest)
