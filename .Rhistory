ungroup(City) %>%
filter(Mortality.Rate == min(Mortality.Rate))
View(max.2015)
min.2015 <- deaths.2015 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == min(Mortality.Rate))
View(min.2015)
# 2015
max.2015 <- deaths.2015 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
View(max.2015)
maxmin.2015 <- full_join(max.2015, min.2015)
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
View(max.2016)
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == min(Mortality.Rate))
View(min.2016)
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(City != "Des Moine", Mortality.Rate == min(Mortality.Rate))
View(min.2016)
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(City != "Des Moines", Mortality.Rate == min(Mortality.Rate))
View(min.2016)
filter(Mortality.Rate == min(Mortality.Rate))
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0)
filter(Mortality.Rate == min(Mortality.Rate))
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
View(min.2016)
View(min.2015)
min.2015 <- deaths.2015 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
View(min.2015)
maxmin.2015 <- full_join(max.2015, min.2015)
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
maxmin.2016 <- full_join(max.2016, min.2016)
View(maxmin.2016)
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 3) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
library("dplyr")
library("maps")
library("tidyr")
library("sp")
library("shiny")
library("ggplot2")
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 3) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
View(max.2016)
# 2016
max.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>%
filter(Mortality.Rate == max(Mortality.Rate))
View(max.2016)
View(maxmin.2011)
min.2016 <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1)
library("dplyr")
library("maps")
library("tidyr")
library("sp")
library("shiny")
library("ggplot2")
max.2012 <- deaths.2012 %>%
group_by(City) %>%
filter(WEEK == 1)
max.2012
View(max.2012)
View(maxmin.2010)
View(maxmin.2011)
GetAgeDeaths <- function(year){
g <- age.group %>% filter(Year == year) %>% group_by(age.group) %>%
summarize(sum = sum(agegroup.deaths, na.rm = TRUE))
}
ages.2010 <- GetAgeDeaths(2010)
View(ages.2010)
AgeGroupDeaths <- function(ages){
t <- age.group %>% filter(age.group == ages) %>% group_by(Year) %>%
summarize(sum = sum(agegroup.deaths, na.rm = TRUE))
}
frist.ages <- AgeGroupDeaths('<1')
View(frist.ages)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == 2010) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
return(table)
}
YearlyDeaths(2010)
deaths.2010 <- YearlyDeaths(2010)
View(deaths.2010)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == 2010) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
min.max <- full_join(min, max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2010)
library("dplyr")
library("maps")
library("tidyr")
library("sp")
library("shiny")
library("ggplot2")
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == 2010) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- deaths.2016 %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
min.max <- full_join(min, max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2010)
View(deaths.2010)
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == 2010) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
min.max <- full_join(min, max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
deaths.2010 <- YearlyDeaths(2010)
View(deaths.2010)
deaths.2011 <- YearlyDeaths(2011)
View(deaths.2011)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == year) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
min.max <- full_join(min, max)
return(min.max)
}
deaths.2011 <- YearlyDeaths(2011)
View(deaths.2011)
deaths.2010 <- YearlyDeaths(2010)
View(deaths.2010)
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2016)
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
runApp()
runApp()
shiny::runApp()
GetAgeDeaths <- function(year){
g <- age.group %>% filter(Year == year) %>% group_by(age.group) %>%
summarize(sum = sum(agegroup.deaths, na.rm = TRUE))
}
AgeGroupDeaths <- function(ages){
t <- age.group %>% filter(age.group == ages) %>% group_by(Year) %>%
summarize(sum = sum(agegroup.deaths, na.rm = TRUE))
}
frist.ages <- AgeGroupDeaths('<1')
frist.ages <- AgeGroupDeaths('<1')
View(frist.ages)
ages <- GetAgeDeaths(2011)
View(ages)
runApp()
runApp()
gg <- ggplot(data = GetAgeDeaths(input$year), mapping = aes(x = sum, y = age.group, color=age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = sum, y = age.group, color=age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, color=age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, color=age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, count = sum, color=age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, count = sum, fill = age.group)) +
geom_bar()
runApp()
runApp()
runApp()
runApp()
View(age.group)
runApp()
gg <- ggplot(data = GetAgeDeaths(input$year), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(input$year), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar()
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar(stat = "identity")
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar(stat = "identity")
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar(stat = "identity")+
scale_y_continuous(label = comma)
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar(stat = "identity")+
scale_y_continuous(labels = comma)
ggplot(data = GetAgeDeaths(2011), mapping = aes(x = age.group, y = sum, fill = age.group)) +
geom_bar(stat = "identity")+
scale_y_continuous(labels =  scales::comma)
runApp()
runApp()
runApp()
frist.ages <- AgeGroupDeaths('<1')
View(frist.ages)
ggplot(data = AgeGroupDeaths(imput$year), aes(x = year, y = sum))
geom_quantile()
ggplot(data = AgeGroupDeaths(2011), aes(x = year, y = sum))
geom_quantile()
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == year) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
single.max <- max[1]
min.max <- full_join(min, single.max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == year) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
single.max <- max[,1]
min.max <- full_join(min, single.max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == year) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
single.max <- head(max,1)
min.max <- full_join(min, single.max)
return(min.max)
}
deaths.2010 <- YearlyDeaths(2016)
View(deaths.2010)
deaths.2010 <- YearlyDeaths(2015)
View(deaths.2015)
View(deaths.2010)
deaths.2010 <- YearlyDeaths(2014)
View(deaths.2010)
YearlyDeaths <- function(year){
deaths <- pneumonia.deaths %>% filter(Year.x == year) %>%
group_by(City) %>% mutate("Mortality.Rate" =
sum(All.Deaths) / ESTIMATE * 100)
table <- deaths %>% group_by(City) %>% filter(Mortality.Rate == max(Mortality.Rate,
na.rm = TRUE))
min <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == min(Mortality.Rate))
max <- table %>%
group_by(City) %>%
filter(WEEK == 1) %>%
na.omit() %>%
select(Year.x, City, STNAME, Mortality.Rate) %>%
ungroup(City) %>% filter(Mortality.Rate != 0) %>%
filter(Mortality.Rate == max(Mortality.Rate))
single.max <- head(max, 1)
min.max <- full_join(min, single.max)
return(min.max)
}
View(GetAgeDeaths(2014))
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum)
library("plotly")
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum)
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum, type = "line")
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum, type = "scatter")
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum, type = "scatter")+
add_line()
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum, type = "scatter")+
add_trace()
plot_ly(data = GetAgeDeaths(2014), x = ~age.group, y = ~sum, type = "scatter")+
add_trace(mode = "lines")
GetAgeDeaths(2014) %>%
plot_ly( x = ~age.group, y = ~sum, type = "scatter")+
add_trace(mode = "lines")
GetAgeDeaths(2014) %>%
plot_ly( x = ~age.group, y = ~sum, type = "scatter") %>%
add_trace(mode = "lines")
GetAgeDeaths(2014) %>%
plot_ly( x = ~age.group, y = ~sum, type = "scatter") %>%
add_trace(mode = "lines") %>%
layout(title = 'Styled Scatter',
yaxis = list(zeroline = FALSE),
xaxis = list(zeroline = FALSE))
GetAgeDeaths(2014) %>%
plot_ly( x = ~age.group, y = ~sum, type = "scatter") %>%
add_trace(mode = "lines", showlegend = FALSE) %>%
layout(title = 'Styled Scatter',
yaxis = list(zeroline = FALSE),
xaxis = list(zeroline = FALSE))
AgeGroupDeaths("<1") %>%
plot_ly( x = ~age.group, y = ~sum, type = "scatter") %>%
add_trace(mode = "lines", showlegend = FALSE) %>%
layout(title = 'Age Group ',
yaxis = list(zeroline = FALSE),
xaxis = list(zeroline = FALSE))
AgeGroupDeaths("<1") %>%
plot_ly( x = ~Year, y = ~sum, type = "scatter") %>%
add_trace(mode = "lines", showlegend = FALSE) %>%
layout(title = 'Age Group ',
yaxis = list(zeroline = FALSE),
xaxis = list(zeroline = FALSE))
runApp()
runApp()
